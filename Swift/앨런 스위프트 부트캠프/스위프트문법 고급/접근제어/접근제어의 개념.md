# 본문의 글은 인프런 앨런 Swift문법 마스터 스쿨(온라인) 부트캠프의 강의 영상을 본후 공부한 내용을 정리하여 기록한것입니다.
https://inf.run/YyoR


```swift
//접근제어(Access Control) //캡상추다 에서 캡슐화와 가까운 개념


//접근제어란 코드의 세부 구현 내용을 숨기는 것이 가능하도록 만드는 개념이다. ( 객체지향 - 은닉화가 가능해짐)
//언어마다 약간씩의 차이가 있음

class SomeClass {
    private var name = "이름" //이 속성은 클래스 내부에서만 뭔가 사용하거나 할수 있음
    
    func nameChange(name: String) {
        if name == "길동" {
            return
        }
        self.name = name
    }
}

let object1 = SomeClass()
//object1.name //안됨


//이름을 바꾸려면 특정 메서드로만 실행이 가능하다.
object1.nameChange(name: "한별")
//예를들어 회사에들어가서 이런 클래스를 만들었는데 옆에있는 다른 개발자가 이 클래스를 이용해서 막 이름을바꾸면
//나는 그런의도가 아닌데.. 무튼 이런상황을 예방을 할수도 있다.
//이런개념을 접근제어라고 한다.


/*
 [접근 수준(Access Levels)] //아래로갈수록 숨기는 강도가 강함
 - 1) open        - 다른 모듈에서도 접근가능 / 상속 및 재정의도 가능 (접근 수준 높음)
 - 2) public      - 다른 모듈에서도 접근가능(상속/재정의불가)
 - 3) internal    - 같은 모듈 내에서만 접근가능(우리가 아무것도 안쓰면 디폴트로 적용되는녀석)
 - 4) fileprivate - 같은 파일 내에서만 접근가능
 - 5) private     - 같은 scope내에서만 접근가능                (접근 수준 낮음)
 
 - 모듈(module): 프레임워크, 라이브러리, 앱 등 import해서 사용할 수 있는 외부의 코드
 */

// 따로 명시하지 않으면 internal 설정임(디폴트)
// 모듈(프레임워크나 라이브러리)을 만들어서 배포하려면, public이상으로 선언해야함
// 혹은 남이만든 코드를 import해서 쓰려면 그럴때도 public이상으로 선언되어있어야 한다.



// 접근 제어를 가질 수 있는 요소는
// (스위프트 문서 - 엔터티 / 독립된 개체)
// 1) 타입(클래스/구조체/열거형/스위프트 기본타입 등)
// 2) 변수/속성
// 3) 함수/메서드(생성자, 서브스크립트 포함)
// 4) 프로토콜도 특정영역으로 제한될 수 있음


/*
 - 클래스의 접근수준을 가장 넓히면 - open / 구조체 - public
 - 1) 클래스 - open (상속, 재정의와 관계)
 - 2) 구조체 - public (구조체는 어짜피 상속이 없기 때문)
*/

//접근제어가 필요한 이유
// - 애플이 자신들이 원하는 코드를 감출 수 있음
// - 콬드의 영역을 분리시켜서, 효율적 관리가 가능
// - 컴파일 시간이 줄어듬 (컴파일러가, 해당 변수가 어느 범위에서만 쓰이는지를 인지가능)


 //기본원칙 ======================
 //변수
 //타입은 타입을 사용하는 변수나 함수보다 더 접근수준이 높아야 햔다.
 //변수나 함수는 타입보다 접근수준이 낮아야 한다.
 internal var some: String = "접근가능" //string이라는 문자열구조체는 퍼블릭으로 설정되어있음
 //그래서 open으로 변수를 선언하면 에러가 난다. string은 퍼블릭인데 그보다 더 낮은 접근수준이 open은 안되는것
private var num: Int = 1



 //함수
 //파라미터, 리턴타입은 함수보다 더 접근수준이 높아야한다.
// 함수는 파라미터나 리턴타입보다 접근수준이 낮아야한다.
 internal func someFunction(a: Int) -> Bool { //open func 안됨
    print(a)  //Int = public
    print("정덕호")  //String = public
    return false  //Bool = public
 }


 //또한 자신보다 내부에서 더 낮은타입을 사용하면 접근하지못해 사용못할수도 있다.




//실무에서 사용하는 관습적인 패턴

//예전방식
//속성을 선언시 private 으로 외부에 감추려는 속성은 _(언더바) 를 사용해서 이름을 지음

class SomeOtherClass {
    private var _name = "이름"  //읽기 = internal  //쓰기 = private
    
    var name: String { //프라이빗선언을하면 읽는것도 안되기때문에 계산속성으로 읽기기능을 구현 
        return _name
    }
}

let a2 = SomeOtherClass()
a2.name



//요즘쓰는 간편방식
//저장속성의 쓰기를 제한하기
class a {
    private(set) var name = "이름"  //읽기 = internal  //쓰기 = private
}

let ab = a()
//ab.name //일반 프라이빗 키워드를 쓰면 아예 읽기도 안됨
//ab.name = "ad" //프라이빗셋 하면 쓰기만안되게 할수 있음
```