# 테스트 코드란   
테스트는 코드의 일부를 테스트하기 위해 작성되는 매우작고 독립정인 방법이다.   
swift로 작성된 함수를 테스트하며 이 함수가 예상대로 작동하는지 확윈하기 위해 작성한다.   
유효한 파라미터로 함수를 테스트하기도하며 잘못된 파라미터로 함수를 테스트하기도 한다. 그리고 두 시나리오 모두에서 유닛테스트 메서드가 기능을 식별한다.      
테스트는 절대 복잡하지않고 아주 간단하게 작생되어야 한다.   
꼭꼭꼭!! 하나의 특정기능을 테스트해야함을 명심해야한다.     
테스트 시나리오 역시 예를들어 잘못된입력을받는 테스트, 맞는입력을받는 테스트 , 잘못된서버연결테스트 등 각각 단위로 진행한다.   
서버에서 받아오는 데이터가 아닌 더미데이터로 대체한다. 그이유는 빠르게작동하게 하기위해서이다.   


# 테스트 피라미드
![1_6M7_pT_2HJR-o-AXgkHU0g](https://user-images.githubusercontent.com/93653997/168221847-85f77cb4-dcfc-4145-94d6-2d918350613e.jpeg)

테스트과정은 피라미드 구조로 되어있는데.   
맨 아래엔 있는건 유닛테스트다.   
일반적으로 유닛테스트가 다른 테스트 코드보다 먼저 작동되기 때문이다. 또한 일반적으로 더 많은 테스트를 해야하기때문이다.   
단위테스트는 가장빠르다.   
그 이유는 데이터베이스나 서버에 실제 요청을 보내지 않기때문이다. 가짜 모의 객체를 사용한다.   
이것은 테스트하고있는 함수를 어떤것의 종속성에서 분리시키는것이기도 하다. (의존성 주입?, 종속성 분리?)   
   
      
그 위에있는것이 통합테스트이다.   
이테스트는 가짜 모의 객체를 사용하는 유닛테스트와 달리 실제 객체를 사용한다.   
실제 있는 객체를 사용하며 서버나 데이터베이스에 실제로 요청을 보낸다.   
이 테스트를 동과한다면 테스트중인 기능이 다른 외부시스템과 잘 작동한다는 뜻이기도하다.   
통합테스트는 외부시스템과 통신해야하기때문에 단위테스트보다 느리게 실행된다.   
   
      
마지막으로 맨위에있는것이 UI테스트이다.   
행동을 시뮬레이션하는 테스트이며 사용자를 대신해 테스트를 할 수 있다.
예를들어 텍스트필드에 사용자가 입력을하고 버튼을누른뒤 예상 결과를 기다릴때   
올바른경우 화면이넘어가고 아닌경우 경고메세지가 나온다면 이것을 직접 눌러보는대신 테스트 해볼수 있다는것이다.   

# 유닛테스트 규칙 F.I.R.S.T
1. Fast: 유닛테스트는 빨라야한다. 원격서버나 테이터통신을 하지않고 하나의 특정작업만한다 그래서 매우 빨라야한다.   
   
2. independent: 유닛테스트는 독립적이어야한다. 한개의 단위테스트는 다른 단위에서 생성된 결과에 의존하면 안된다.   
   
3. Repeatable: 유닛테스트는 반복가능해야한다. 여러번실행해도 같은 결과를 생성해야하며 어느컴퓨터에서도 같은 결과를 생성해야한다. 

4. Self - vaildating: 유닛테스트는 자체검증할수 있어야한다. 함수가 생성한결과를 실패했는지 성공했는지 자체 검증할수 있어야한다.

5. Thorough: 유닛테스트는 철저해야한다. 실패와 성공 모든 경우를 고려해야하며 모든걸 고려하기위해 여러 단위테스트를 구현해야한다. 또한 앱기능을 구현할때 단위테스트를 구현해야한다.
   


# 테스트 주도 개발
보통의 SW는 코드를 모두 작성한뒤 테스트를한다. ios에서는 코드를 작성한뒤에 시뮬레이터로 테스트를하는것처럼   
하지만 테스트 주도 개발은 코드를 쓰기전에 테스트를 먼저 진행하게된다.   
테스트를 먼저 만들고 테스트를 통과하기 위한 것을 짜는 것 즉, 만드는 과정에서 우선 테스트를 작성하고 그걸 통과하는 코드를 만들고를 반복하면서 제대로 동작하는지에 대한 피드백을 적극적으로 받는 것이다. 
   

# 테스트 코드의 작성이유 , 테스트 주도개발의 장점
각각의 모듈을 부분적으로 확인할 수 있어 어떤 묘듈에서 문제가 발생하는지 빠른 확인이 가능   
전체 프로그램을 빌드하는 대신 유닛 단위로 빌드해 확인하므로 시간 절약   
     
테스트 코드를 먼저 작성한다면 명확한 기능과 구조를 설계할 수 있게된다. 또한 테스트의 용이성을 위해 복잡한 기능들을 하나의 함수에 모두 구현할 경우 테스트 방식이 복잡해지고 시간이 오래 걸리며 코드 수정이 되는 경우 테스트 코드를 재 사용할 수 없게되므로 TDD 프로세스를 따르는 코드의 경우에는 재사용성을 고려하며 작성하게 된다.   
   
기존 개발 프로세스와의 TDD 프로세스를 비교한 그림에서 언급하였듯이 테스트 코드를 먼저 작성하고 바로 테스트를 해보기 때문에 설계의 구조적인 문제를 바로 찾아날 수 있게 된다. 그리고 빠르게 피드백을 주고 받으며 수정을 하고 추가로 다시 테스트를 진행하므로 개발이 완료된 시점에서 설계의 문제점을 발견하고 설계를 수정한 뒤 코드 전체를 수정하지 않아도 된다.   
   
단위 테스트 기반의 테스트 코드를 작성하기 때문에 추후에 프로그램에 문제가 발생하였을 때에도 각각의 모듈 별로 테스트를 진행해보면 문제의 지점을 쉽게 찾아낼 수 있게된다. 만약 기존 개발 프로세스라면 버그를 찾기 위해서 프로그램 전체 코드를 봐야할 수도 있는데, 프로그램이 큰 경우 DB, Application, Data, Memory 영역 등으로 다양한 경우에는 버그를 찾아내기가 어려워진다. 이런 경우 TDD 프로세스를 따른다면 각각의 단위 테스트를 진행하기 때문에 영역을 분할하여 쉽게 버그를 찾아낼 수 있다.   
   
개발이 완료된 시점에서 어떠한 기능을 추가하거나 수정하는 경우에 가장 고려되는 부분이 수정하거나 추가한 코드가 전체 프로그램에 어떠한 영향을 미칠지 모른다는 점이다. 따라서 단순한 기능이라도 수정되거나, 추가되는 경우에는 모든 기능들을 처음부터 다시 테스트를 해야한다. 하지만 TDD 프로세스를 따르는 경우에는 자동화된 유닛 테스팅을 전재하므로 이러한 테스트 기간 역시 줄어들며, 기능을 수정하거나 추가할 때의 부담을 줄일 수 있다.
   


# 테스트 주도 개발 수명주기 (Red -> Green -> Refactor -> Repeat)
1. Red: 코드를 작성하기전에 작성하며 이 단계에선 실패하는 코드를 작성한다.   
   
2. Grren: 실패한 테스트를 기반으로 통과할수 있는 코드를 작성해야한다.   
   
3. Refactor: 두 단위 테스트의 코드를 정리하고 검토하고 개선한다 예를들어 테스트메서드와 하드코딩된 변수 등이 제대로 구현되어있는지 등   
   
4. Repeat: 새로운 기능을 선택하고 이전 3단계를 반복하는것이다.   
   


# 유닛테스트 네이밍
항상 이름의 시작은 접두사test로 시작해야 한다. 그러지않으면 테스트메서드로 인식되지않는다.   
메서드의 아규먼트도 없어여하며 리턴값도 없어야한다.   
테스트 메서드의 이름은 팀마다 다르긴하지만 자주 쓰는것들이 몇개 있다.
https://it-is-mine.tistory.com/3

