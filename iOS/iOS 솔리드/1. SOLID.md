# Study-SOLID-Principles-for-iOS
훌륭한 앱을 작성하려면 훌륭한 아이디어를 생각해야 할 뿐 아니라 나중을 생각해봐야한다.    
앱의 기능을 빠르고 효율적으로 조정하거나 개선 및 확장할 수 있는 유연성이 중요하다.   
팀에서 일을하던 혼자 일을 하던 코드를 작성하고 구성하는 방법은 장기적으로 코드를 유지 관리하는데 큰 차이를 만든다.   
이것이 SOLID 원칙이 필요한 이유이다.   

책상 위에 엉망진창인 종이가 널부러져 있다고 생각해보자.   
원하는 종이를 뭉탱이에서 찾고 그 종이에서 또 내가 원하는 문단을 찾는다는건 다른 사람 뿐 아니라 오랜 뒤라면 나 조차도 힘들다.   
반면 책상이 깔끔하게 정돈되어있고 종이들도 구분되어있다면 즉 개발자들이 클린 코드라고 부르는 코드, 수행하는 작업이 명확하고 유지가관리가 가능하며,   
다른 사람들이 이해하기 쉬운코드가 있을것이다.     
SOLID는 깨끗한 코드를 작성하는데 도움이되는 원칙 모음입니다.     
    
예시 프록젝트를 열어 앱을 켜보면.  
앱이 작동하지만 최상의 상태가 아니며 SOLID원칙을 따르지 않는다.   
단점을 식별하기위해 프로젝트를 보기전에 해당 원칙이 무엇인지 이해해 보자.    
   
   
## SOLID의 5대 원칙 이해.   
SOLID의 5가지 원칙은 서로 직접적인 관련이 없지만 코드를 단순하고 명료하게 유지한다는 동일한 목적을 달성한다.    
- SRP 단일 책임 원칙.  
- OCP 개방 폐쇄 원칙.   
- 리스코프 치환 원칙.  
- 인터페이스 분리 원칙.  
- 의존관계 역전 원칙.      
   
각 원칙의 의미는 다음고 같다.   

### 단일책임원칙
클래스는 변경할 이유가 단 하나만 있어야한다.    
   
정의 하는 각 클래스 또는 유형에는 수행할 작업이 하나만 있어야 한다.   
이는 하나의 메서드만 구현할 수 있다는 의미가 아니라, 각 클래스에 집중되고 특수화된 역할이 있어야 한다는 의미이다.   

### 개방 폐쇄 원칙
클래스, 모듈 및 기능을 포함한 소프트웨어 엔티티는 확장에는 열려 있지만 수정에는 닫혀 있어야한다.   
   
즉 필요한것을 추가하기 위해 유형을 크게 변경하지 않고도 기능을 확장 할 수 있어야 한다.   

### 리스코프 치환 원칙
프로그램의 객체는 해당 프로그램의 정확성을 변경하지 안혹 해당 하위 유형의 인스턴스로 대체할 수 있어야한다.   
   
즉 한 객체를 하위 클래스인 다른 객체로 교체하고 이 교체로 인해 영향을 받는 부분이 손상될 수 있는 경우 이 원칙을 따르지 않는것이다.   

### 인터페이스 분리 원칙
클라이언트가 사용하지 않는 인터페이스에 의존하도록 강요해서는 안된다. 
     
코드의 여러 위치에서 사용할 프로토콜을 설계할 때 해당 프로토콜을 각 부분이 특정 역할을 갖는 여러개의 작은 부분으로 나누는것이 가장 좋다.   
그런식으로 클라이언트는 필요한 프로토콜 부분에만 의존할수 있다.    

### 의존관계 역전 법칙
구체화가 아닌 추상화에 의존하라.    
   
코드의 다른 부분은 구체적인 클래스에 의존해서는 안된다.   
그들은 그런 지식이 필요하지않고, 이는 구체적인 클래스를 사용하여 앱의 일부를 연결하는 대신 프로토콜을 사용하도록 권장하는것이다.    

참고로 기존 프로젝트를 리팩토링할때 SOLID 원칙을 굳이 꼭 따르는것은 중요하지 않다.   
하지만 SOLID원칙을 위배되었을때 발생할 수 있는 부작용들을 인지하고 있어야하는 것이 중요한것이다.    

## 스타터 프로젝트    
스타터 프로젝트는 다섯가지 원칙을 모두 위배한다.    
그것은 작동하며 한눈에 보기에는 매우 복잡하게 느껴지나 유지관리에 많은 노력이 필요할것 같지는 않다.   
그러나 좀 더 자세히 살펴보면 그것이 사실이 아님을 알 수 있다.    
   
깨지는것을 발견하는 가장 쉬운 원칙은 종속성 반전이다.    
프로젝트에는 프로토콜이 전혀 없다.   
즉 분리할 인터페이스도 없다는 뜻이다.   
AppMian.Swift를 보면 모든 핵심 데이터 설정이 그곳에서 이루어지며, 단일 책임처럼 보이지 않는다.   
다른 프로젝트에서도 동일한 CoreData 설정을 재사용하려는 경우 전체 파일 대신 코드 조각을 사용해야 할것이다.   
   
다음으로 ContentView.Swift를 보면 앱의 첫번째 보기로 표시할 리포트를 선택할 수. 있다.   
만약 이번주에 대한 리포트를 추가하고 싶다고 가정해보자.   
이설정을 사용하려면 DailyExpensesView, MonthlyExpensesView로는 되지않는다.   
일치하는 새 보고서 화면을 만들어야한다.   
이미 가지고 있는 기능의 변형을 추가하는것만으로도 꽤 지저분하고 많은 작업이 필요하게 된다.    
이는 개방 폐쇄 원칙을 위배한다고 해도 무방하다.   
거의 모든 모듈이 연결되어 있기 때문에 단위테스를 추가하는것 조차 쉽지 않다.   
   
또한 어느시점에서 CoreData를 제거하고 다른것으로 교체하려는 경우 이 프로젝트의 거의 모든 파일을 변경해야 한다.   

전반적으로 프로젝트는 변경을 위한 최소한의 공간을 제공한다.    
초기 요구 사항에 초점을 맞추고 프로젝트 전체를 크게 변경하지 않고 향우 추가를 허용할수 있게하는것이 좋은 코드이다.   
    
이제 각 원칙을 적용하여 프로젝트를 정리하고 리팩토링이 앱에 제공하는 이점을 확인해보자.  
